Version 4
SHEET 1 1544 680
WIRE 560 48 560 32
WIRE 560 160 560 128
WIRE 560 160 416 160
WIRE 96 176 48 176
WIRE 144 176 96 176
WIRE 288 176 224 176
WIRE 352 176 288 176
WIRE 464 192 416 192
WIRE 560 208 560 160
WIRE 0 288 0 192
WIRE 304 288 0 288
WIRE 464 288 464 192
WIRE 464 288 304 288
WIRE 0 304 0 288
WIRE 560 320 560 288
FLAG 0 384 0
FLAG 0 96 VBMS
FLAG 384 208 Vcc
FLAG 384 144 0
FLAG 944 224 0
FLAG 1072 224 0
FLAG 944 144 VBMS
FLAG 1072 144 SP
FLAG 848 224 0
FLAG 848 144 Vcc
FLAG 304 288 opamp-
FLAG 288 176 opamp-out
FLAG 560 320 0
FLAG 560 -48 Vcc
FLAG 1264 160 0
SYMBOL res 16 288 M0
SYMATTR InstName R1
SYMATTR Value 5m
SYMBOL voltage 944 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 2.5
SYMBOL voltage 1072 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(1m .999 0 10m 1m 0 2m)
SYMBOL voltage 848 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res 544 -64 R0
SYMATTR InstName R2
SYMATTR Value 750k
SYMBOL nmos 48 96 M0
SYMATTR InstName M1
SYMATTR Value irfb7545pbf
SYMATTR Prefix X
SYMBOL res 544 32 R0
SYMATTR InstName R3
SYMATTR Value R = 10k*(1-V(SP))
SYMBOL res 544 192 R0
SYMATTR InstName R4
SYMATTR Value R = 10k*V(SP)
SYMBOL Opamps\\LT6220 384 176 R180
SYMATTR InstName U1
SYMBOL voltage 1264 64 R0
SYMATTR InstName V4
SYMATTR Value SINE(50m 100m 100)
SYMBOL cap 80 176 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage 240 176 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 88 56 VTop 2
WINDOW 123 37 54 VTop 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value ""
SYMATTR Value2 AC 1
TEXT 48 432 Left 2 !.ac dec 1000 10 10meg
TEXT 48 456 Left 2 !.include irfb7545pbf.txt
TEXT 48 480 Left 2 !.include TL081.txt
TEXT 48 504 Left 2 !.include MCP6001.txt
